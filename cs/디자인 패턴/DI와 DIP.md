# DI와 DIP

#### DI

- 의존성 주입(DI : Dependency Injection)이란 메인 모듈이 하위 모듈에 "직접" 의존성을 가지기 보다는 중간에 의존성 주입자(Dependency Injector)를 둬 하위 모듈에 "간접"적으로 의존성을 가지게 하는 방식

- A가 B에 의존성을 가진다, A가 B에 의존한다는 의미는 "B가 변하면 A에 영향을 미치는 상태 (A -> B)"이다.

- 쉽게 말해 어떤 객체가 필요한 객체를 직접 생성하거나 관리하지 않고 외부로부터 받아 사용하는 것이다.

```java
// example1
import java.util.*;
class A {
    public void go() {
        System.out.println("A go");
    }    
}
public class main {
    public static void main(String args[]) {
        new A().go(); // A에 의존
    }
}
// 출력 : A go
```

- 위 코드에서 A의 go 메서드가 바뀌면 main 코드를 수정해야함

#### DIP

- 의존관계역전원칙(DIP : Dependency Inversion Principle)은 DI 시 적용되는 원칙이며 객체 지향 설계의 다섯 가지 원칙 SOLID 중 D에 해당한다.
  
  1. 상위 모듈은 하위 모듈에 의존해서는 안된다. 둘 다 추상화에 의존해야 한다. (상위 모듈, 하위 모듈 -> 추상화)
  
  2. 추상화는 세부사항에 의존하면 안 된다. 세부 사항은 추상화에 따라 달라져야 한다. (세부 사항=클래스 -> 추상화)

#### 의존성 주입의 장점

1. 외부에서 모듈을 생성해 집어넣는 구조가 되기 때문에 모듈들을 쉽게 교체할 수 있는 구조가 됨

2. 단위 테스팅과 마이그레이션이 쉬워짐

3. 애플리케이션 의존성 방향이 일관성을 띄며 코드를 추론하기 쉬워짐

#### 의존성 주입의 단점

1. 결국에는 모듈이 더 생기게 되는거라 복잡도가 증가

2. DI가 컴파일을 할 때가 아닌 런타임 때 일어나기 때문에 컴파일할 때 DI에 관한 에러를 잡기가 어려워질 수 있음
